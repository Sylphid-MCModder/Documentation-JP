ブロック
======

ブロックは、Minecraftの世界を構成する基本的な要素の一つです。これらは地形や構造物、機械等を構成します。もしModを作る機会があるなら、一つはブロックを追加してみたくなるでしょう。このページでは基本的なブロックの作り方と、ブロックで行える動作について解説します。

ブロックの作成
----------------

### 通常ブロック

他の機能を必要としないブロック(木材・丸石など)には、カスタムクラスは不必要です。`Block`と`BlockBehaviour$Properties`オブジェクトにより、即席でブロックを作成できます。`BlockBehaviour$Properties`は`BlockBehaviour$Properties#of`により作成でき、以下のようなメソッドにより編集できます。:

- `strength` - ブロックを破壊するのにかかる時間を設定します。任意の数値です。例えば、石の場合``1.5``、土の場合``0.5``に設定されています。破壊不可のブロックにする場合、``-1.0``に設定するのが一般的です。`Blocks#BEDROCK`の定義もご覧ください。これの抵抗はブロックの爆破耐性も設定します。参考として、石は6.0、土は0.5に設定されています。
- `sound` - ブロックがパンチ・破壊・設置された時に再生される音を指定します。`SoundType`型の引数が必要です。この詳細は[サウンド]をご覧ください。
- `lightLevel` - ブロックの照度を設定します。0~15の範囲の数値を返す`BlockState`パラメータと関数を取得します。
- `friction` - ブロックの滑りやすさを設定します。例えば、氷は0.98です。

これらのメソッドは*チェーン可能*で、一度に宣言し切ることが可能です。`Blocks`クラスも参考にしてください。

!!! note
    Blockクラスは`CreativeModeTab`のセッターを持ちません。これは現在、[`CreativeModeTabEvent$BuildContents`][creativetabs]により、ブロックに関するアイテム(例:`BlockItem`)がある場合に設定されます。さらに、レジストリ名からメニューを生成するようになったため、トランスレーションキーのセッターはありません。

### 発展ブロック

あくまでこれは一般的なブロックのことについて述べているだけです。プレイヤーのインタラクション等に対応したい場合、カスタムクラスが必要です。しかし、`Block`クラスはあまりに多くのパラメータを持っており、ここでその全てを述べることはできません。ブロックでできることについては、このページの残りのセクションをご覧ください。

ブロックの登録
-------------------

ブロックは[登録されている][registering]必要があります。

!!! important
    ブロックが世界に存在していることと"ブロック"がインベントリに存在することは全く違います。世界に存在するブロックについては`BlockState`により定義されますが、その動作に関しては`Block`インスタンスにより定義されます。一方、アイテムがインベントリにある状態は`ItemStack`で定義され、`Item`により操作できます。`Block`と`Item`という2つの異なる事項をつなげるべく、`BlockItem`クラスがあります。`BlockItem`は`Item`のサブクラスで、`block`という`Block`への参照を含んだフィールドを提供します。`BlockItem`は"ブロック"のアイテムとしての動作(右クリックでブロックを配置するような)を定義します。また、`Block`を`BlockItem`なしで定義することもできます(例: `minecraft:water` はブロックですが、アイテムとしては存在しません。これをインベントリ内に保持することはできません)。

    ブロックの登録時は、Block**のみ**登録され、自動的に`BlockItem`は生成されません。通常の`BlockItem`を作成する際は、`BlockItem`のレジストリ名を対象の`Block`のものと一致させる必要があります。`BlockItem`のサブクラスも使用可能です。`BlockItem`の登録時、`Block#asItem`が使用可能になります。`Block#asItem`は`BlockItem`が未登録の場合は`Items#AIR`を返すため、`BlockItem`を適切に得れなかった場合は、`Items#AIR`が返ってきていないか確認してください。

#### ブロック登録時のオプション

かつては、ユーザーはブロック/アイテムをコンフィグファイルで無効化できましたが。これは非推奨です。ブロックの登録可能量に制限はないため、全てのブロックを登録してください。もしもこの方法を使い続けたい場合、レシピも無効化すべきです。クリエイティブタブでの表示を無効化したい場合、[`CreativeModeTabEvent$BuildContents`][creativetabs]発動時に`FeatureFlag`をご利用ください。

あわせて読む
---------------

フェンスや壁などの、状態が変化するブロックなどについては[ブロックステート][blockstates]をご覧ください。

[サウンド]: ../gameeffects/sounds.md
[creativetabs]: ../items/index.md#creativemodetabevent
[registering]: ../concepts/registries.md#methods-for-registering
[blockstates]: states.md
